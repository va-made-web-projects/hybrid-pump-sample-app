"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6124],{6124:(M,f,s)=>{s.r(f),s.d(f,{SettingsPageModule:()=>A});var v=s(177),i=s(4341),n=s(4742),h=s(486),e=s(4438),a=s(467);function g(o,c){if(1&o&&(e.j41(0,"div",6),e.EFF(1),e.k0s()),2&o){const d=e.XpG();e.R7$(),e.JRh(d.errorMessage)}}let m=(()=>{var o;class c{constructor(t){this.modalController=t,this.enteredCode="",this.correctCode="1776",this.errorMessage=""}verifyCode(){this.modalController.dismiss(this.enteredCode===this.correctCode?{codeIsValid:!0}:{codeIsValid:!1})}closeModal(){this.modalController.dismiss({codeIsValid:!1})}}return(o=c).\u0275fac=function(t){return new(t||o)(e.rXU(n.W3))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-code-modal"]],decls:13,vars:2,consts:[[1,"ion-padding"],["type","text","placeholder","Enter code",3,"ngModelChange","ngModel"],[1,"ion-justify-content-center","ion-padding"],["fill","solid","color","danger",3,"click"],["fill","solid","color","success",3,"click"],["style","color: red;",4,"ngIf"],[2,"color","red"]],template:function(t,r){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Enter Code"),e.k0s()()(),e.j41(4,"ion-content",0)(5,"div")(6,"ion-input",1),e.mxI("ngModelChange",function(l){return e.DH7(r.enteredCode,l)||(r.enteredCode=l),l}),e.k0s(),e.j41(7,"ion-buttons",2)(8,"ion-button",3),e.bIt("click",function(){return r.closeModal()}),e.EFF(9,"Cancel"),e.k0s(),e.j41(10,"ion-button",4),e.bIt("click",function(){return r.verifyCode()}),e.EFF(11,"Verify"),e.k0s()(),e.DNE(12,g,2,1,"div",5),e.k0s()()),2&t&&(e.R7$(6),e.R50("ngModel",r.enteredCode),e.R7$(6),e.Y8G("ngIf",r.errorMessage))},dependencies:[v.bT,n.Jm,n.QW,n.W9,n.eU,n.$w,n.BC,n.ai,n.Gw,i.BC,i.vS],styles:["ion-content[_ngcontent-%COMP%]{--padding-start: 20px;--padding-end: 20px}"]}),c})();var p=s(8484);let C=(()=>{var o;class c{constructor(t,r,u,l){this.userTypeService=t,this.modalController=r,this.toastController=u,this.router=l,this.userType=null,this.isAdmin=!1}ngOnInit(){this.userType=this.userTypeService.userType(),this.isAdmin="admin"===this.userType}reloadCurrentRoute(){const t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([t])})}setUserType(){this.userType=this.isAdmin?"admin":"user",this.isAdmin?this.presentCodeModal():this.setUserToRegular()}presentCodeModal(){var t=this;return(0,a.A)(function*(){const r=yield t.modalController.create({component:m,backdropDismiss:!0});return r.onDidDismiss().then(function(){var u=(0,a.A)(function*(l){l&&l.data&&l.data.codeIsValid?(yield r.dismiss(),t.presentToast("Changed to Admin Mode!","success"),t.setUserToAdmin()):(t.setUserToRegular(),yield r.dismiss(),t.presentToast("Still is User Mode.","danger"),console.log("Incorrect Code. Please try again."))});return function(l){return u.apply(this,arguments)}}()),yield r.present()})()}presentToast(t,r){var u=this;return(0,a.A)(function*(){(yield u.toastController.create({message:t,duration:4e3,color:r,position:"top"})).present()})()}setUserToAdmin(){this.userTypeService.setUserType("admin"),this.isAdmin=!0,this.userType=this.userTypeService.userType(),this.reloadCurrentRoute()}setUserToRegular(){this.userTypeService.setUserType("user"),this.isAdmin=!1,this.userType=this.userTypeService.userType(),this.reloadCurrentRoute()}clearUser(){this.userTypeService.clearUserType(),this.isAdmin=!1,this.userType=this.userTypeService.userType()}}return(o=c).\u0275fac=function(t){return new(t||o)(e.rXU(p.x),e.rXU(n.W3),e.rXU(n.K_),e.rXU(h.Ix))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-user-type"]],decls:5,vars:2,consts:[["aria-label","Is Admin",3,"ngModelChange","ionChange","ngModel"]],template:function(t,r){1&t&&(e.j41(0,"ion-label"),e.EFF(1),e.k0s(),e.j41(2,"ion-item")(3,"ion-toggle",0),e.mxI("ngModelChange",function(l){return e.DH7(r.isAdmin,l)||(r.isAdmin=l),l}),e.bIt("ionChange",function(){return r.setUserType()}),e.EFF(4," Is Admin"),e.k0s()()),2&t&&(e.R7$(),e.SpI("User Type: ",r.userType,""),e.R7$(2),e.R50("ngModel",r.isAdmin))},dependencies:[n.uz,n.he,n.BY,n.hB,i.BC,i.vS]}),c})();var y=s(6893),S=s(1727),T=s(3196),I=s(9705);let E=(()=>{var o;class c{constructor(t,r,u,l){this.bluetoothControlService=t,this.bluetoothConnectionService=r,this.toastController=u,this.deviceSettingsService=l}ngOnInit(){}resetErrorStatus(){const t=this.bluetoothConnectionService.deviceIDSignal();this.bluetoothControlService.onWriteErrorState(t,0),this.deviceSettingsService.set("error",0),this.presentToast()}presentToast(){this.toastController.create({message:"Device Error Status Reset",color:"warning",duration:2e3,position:"top"}).then(t=>t.present())}}return(o=c).\u0275fac=function(t){return new(t||o)(e.rXU(y.I),e.rXU(S.c),e.rXU(n.K_),e.rXU(T.r))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-reset-error-state"]],decls:14,vars:1,consts:[["color","primary"],["popoverContent","Reset the error status on device",1,"ion-no-padding"],["color","primary","mode","ios"],["color","danger",3,"click"]],template:function(t,r){1&t&&(e.j41(0,"ion-card")(1,"ion-item-divider",0)(2,"ion-label"),e.EFF(3,"Reset Error Status"),e.k0s(),e.nrm(4,"app-info-button",1),e.k0s(),e.j41(5,"ion-card-content")(6,"ion-item")(7,"ion-label"),e.EFF(8,"Current Error Status"),e.k0s(),e.j41(9,"ion-badge",2),e.EFF(10),e.k0s()(),e.j41(11,"ion-item")(12,"ion-button",3),e.bIt("click",function(){return r.resetErrorStatus()}),e.EFF(13,"Reset Error Status"),e.k0s()()()()),2&t&&(e.R7$(10),e.JRh(r.bluetoothControlService.errorStateSignal()))},dependencies:[n.In,n.Jm,n.b_,n.I9,n.uz,n.Dg,n.he,I.S]}),c})();var U=s(8254),_=s(4374);let F=(()=>{var o;class c{constructor(t){this.darkModeService=t,this.notifications=!1,this.soundEffects=!1,this.autoConnect=!1,this.autoStart=!1,this.autoStop=!1,this.darkMode=!1,this.paletteToggle=!1}ngOnInit(){this.loadDarkMode()}loadDarkMode(){var t=this;return(0,a.A)(function*(){t.darkMode="true"===(yield U.p.get({key:"darkMode"})).value})()}toggleChange(t){this.darkModeService.toggleDarkPalette(t.detail.checked)}toggleNotifications(){this.notifications=!this.notifications}toggleSoundEffects(){this.soundEffects=!this.soundEffects}toggleAutoConnect(){this.autoConnect=!this.autoConnect}toggleAutoStart(){this.autoStart=!this.autoStart}toggleAutoStop(){this.autoStop=!this.autoStop}}return(o=c).\u0275fac=function(t){return new(t||o)(e.rXU(_.B))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-main-settings"]],decls:8,vars:1,consts:[["color","primary"],["justify","space-between",3,"ngModelChange","ionChange","ngModel"]],template:function(t,r){1&t&&(e.j41(0,"ion-list")(1,"ion-item-group")(2,"ion-item-divider",0)(3,"ion-label"),e.EFF(4,"Main App Settings"),e.k0s()(),e.j41(5,"ion-item")(6,"ion-toggle",1),e.mxI("ngModelChange",function(l){return e.DH7(r.darkMode,l)||(r.darkMode=l),l}),e.bIt("ionChange",function(l){return r.toggleChange(l)}),e.EFF(7,"Dark Mode"),e.k0s()()()()),2&t&&(e.R7$(6),e.R50("ngModel",r.darkMode))},dependencies:[i.BC,i.vS,n.uz,n.Dg,n.jh,n.he,n.nf,n.BY,n.hB]}),c})();const R=[{path:"",component:(()=>{var o;class c{constructor(){}ngOnInit(){}}return(o=c).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.VBU({type:o,selectors:[["app-settings"]],decls:10,vars:1,consts:[[3,"fullscreen"],["collapse","condense"],["size","large"]],template:function(t,r){1&t&&(e.j41(0,"ion-content",0)(1,"ion-header",1)(2,"ion-toolbar")(3,"ion-title",2),e.EFF(4,"Settings"),e.k0s()()(),e.j41(5,"ion-card"),e.nrm(6,"app-main-settings")(7,"app-user-type"),e.k0s(),e.j41(8,"div"),e.nrm(9,"app-reset-error-state"),e.k0s()()),2&t&&e.Y8G("fullscreen",!0)},dependencies:[n.b_,n.W9,n.eU,n.BC,n.ai,C,E,F]}),c})()}];let P=(()=>{var o;class c{}return(o=c).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[h.iI.forChild(R),h.iI]}),c})();var k=s(3887);let A=(()=>{var o;class c{}return(o=c).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[v.MD,i.YN,n.bv,P,k.G]}),c})()},9705:(M,f,s)=>{s.d(f,{S:()=>e});var v=s(467),i=s(4438),n=s(4742);let h=(()=>{var a;class g{constructor(p){this.popoverController=p,this.content=""}ngOnInit(){}}return(a=g).\u0275fac=function(p){return new(p||a)(i.rXU(n.IE))},a.\u0275cmp=i.VBU({type:a,selectors:[["app-info-popover"]],inputs:{content:"content"},decls:3,vars:1,consts:[[1,"ion-padding"]],template:function(p,C){1&p&&(i.j41(0,"ion-content")(1,"div",0),i.EFF(2),i.k0s()()),2&p&&(i.R7$(2),i.SpI(" ",C.content," "))},dependencies:[n.W9]}),g})(),e=(()=>{var a;class g{constructor(p){this.popoverController=p,this.popoverContent=""}ngOnInit(){}presentPopover(p){var C=this;return(0,v.A)(function*(){yield(yield C.popoverController.create({component:h,componentProps:{content:C.popoverContent},event:p,translucent:!0})).present()})()}}return(a=g).\u0275fac=function(p){return new(p||a)(i.rXU(n.IE))},a.\u0275cmp=i.VBU({type:a,selectors:[["app-info-button"]],inputs:{popoverContent:"popoverContent"},decls:2,vars:0,consts:[["fill","clear","color","medium",1,"info-button",3,"click"],["name","information-circle-outline"]],template:function(p,C){1&p&&(i.j41(0,"ion-button",0),i.bIt("click",function(S){return C.presentPopover(S)}),i.nrm(1,"ion-icon",1),i.k0s())},dependencies:[n.Jm,n.iq],styles:[".info-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;z-index:1}"]}),g})()},3887:(M,f,s)=>{s.d(f,{G:()=>e});var v=s(177),i=s(4742),n=s(4341),h=s(4438);let e=(()=>{var a;class g{}return(a=g).\u0275fac=function(p){return new(p||a)},a.\u0275mod=h.$C({type:a}),a.\u0275inj=h.G2t({imports:[v.MD,i.bv,n.YN]}),g})()}}]);